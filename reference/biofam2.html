<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Family life states from the Swiss Household Panel biographical survey — biofam2 • cfda</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Family life states from the Swiss Household Panel biographical survey — biofam2"><meta property="og:description" content="2000 16 year-long family life sequences built from the retrospective biographical survey carried out by the Swiss
Household Panel (SHP) in 2002. Data from TraMineR package."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cfda</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.10.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/cfda.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/modal-inria/cfda/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Family life states from the Swiss Household Panel biographical survey</h1>
    <small class="dont-index">Source: <a href="https://github.com/modal-inria/cfda/blob/HEAD/R/datasets.R" class="external-link"><code>R/datasets.R</code></a></small>
    <div class="hidden name"><code>biofam2.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>2000 16 year-long family life sequences built from the retrospective biographical survey carried out by the Swiss
Household Panel (SHP) in 2002. Data from <code>TraMineR</code> package.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">biofam2</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="format">
    <h2>Format</h2>
    <p>A data.frame containing three columns:</p><ul><li><p><em>id</em> id of individuals (2000 different ids)</p></li>
<li><p><em>time</em> age in years where a change occurs</p></li>
<li><p><em>state</em> new state.</p></li>
</ul></div>
    <div id="source">
    <h2>Source</h2>
    <p>Swiss Household Panel https://forscenter.ch/projects/swiss-household-panel/</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The biofam2 dataset derives from the biofam dataset from <code>TraMineR</code> package.
The biofam2 format is adapted to <code>cfda</code> functions.
The biofam data set was constructed by Müller et al. (2007) from the data of the retrospective biographical survey
carried out by the Swiss Household Panel (SHP) in 2002.
The data set contains sequences of family life states from age 15 to 30 (sequence length is 16).
The sequences are a sample of 2000 sequences of those created from the SHP biographical survey.
It includes only individuals who were at least 30 years old at the time of the survey.
The biofam data set describes family life courses of 2000 individuals born between 1909 and 1972.</p>
<p>The eight states are defined from the combination of five basic states, namely Living with parents (Parent),
Left home (Left), Married (Marr), Having Children (Child), Divorced:
"Parent", "Left", "Married", "Left+Marr", "Child", "Left+Child", "Left+Marr+Child", "Divorced"</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Müller, N. S., M. Studer, G. Ritschard (2007). Classification de parcours de vie à l'aide de l'optimal matching.
In XIVe Rencontre de la Société francophone de classification (SFC 2007), Paris, 5 - 7 septembre 2007, pp. 157–160.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other datasets: 
<code><a href="care.html">care</a></code>,
<code><a href="flours.html">flours</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">biofam2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">biofam2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id time           state</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1   15          Parent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1   24       Left+Marr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  1   25 Left+Marr+Child</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  1   30 Left+Marr+Child</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  2   15          Parent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  2   16            Left</span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># It is recommended to increase the number of cores to reduce computation time</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">basis</span> <span class="op">&lt;-</span> <span class="fu">create.bspline.basis</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">30</span><span class="op">)</span>, nbasis <span class="op">=</span> <span class="fl">4</span>, norder <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fmca</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_optimal_encoding.html">compute_optimal_encoding</a></span><span class="op">(</span><span class="va">biofam2</span>, <span class="va">basis</span>, nCores <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######### Compute encoding #########</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of individuals: 2000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of states: 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Basis type: bspline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of basis functions: 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of cores: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---- Compute V matrix:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                  | 0 % ~calculating    |=                                                 | 1 % ~06s            |=                                                 | 2 % ~06s            |==                                                | 3 % ~05s            |==                                                | 4 % ~05s            |===                                               | 5 % ~04s            |===                                               | 6 % ~04s            |====                                              | 7 % ~04s            |====                                              | 8 % ~04s            |=====                                             | 9 % ~04s            |=====                                             | 10% ~04s            |======                                            | 11% ~04s            |======                                            | 12% ~04s            |=======                                           | 13% ~04s            |=======                                           | 14% ~04s            |========                                          | 15% ~04s            |========                                          | 16% ~04s            |=========                                         | 17% ~04s            |=========                                         | 18% ~04s            |==========                                        | 19% ~04s            |==========                                        | 20% ~04s            |===========                                       | 21% ~03s            |===========                                       | 22% ~03s            |============                                      | 23% ~03s            |============                                      | 24% ~03s            |=============                                     | 25% ~03s            |=============                                     | 26% ~03s            |==============                                    | 27% ~03s            |==============                                    | 28% ~03s            |===============                                   | 29% ~03s            |===============                                   | 30% ~03s            |================                                  | 31% ~03s            |================                                  | 32% ~03s            |=================                                 | 33% ~03s            |=================                                 | 34% ~03s            |==================                                | 35% ~03s            |==================                                | 36% ~03s            |===================                               | 37% ~03s            |===================                               | 38% ~03s            |====================                              | 39% ~03s            |====================                              | 40% ~03s            |=====================                             | 41% ~02s            |=====================                             | 42% ~02s            |======================                            | 43% ~02s            |======================                            | 44% ~02s            |=======================                           | 45% ~02s            |=======================                           | 46% ~02s            |========================                          | 47% ~02s            |========================                          | 48% ~02s            |=========================                         | 49% ~02s            |=========================                         | 50% ~02s            |==========================                        | 51% ~02s            |==========================                        | 52% ~02s            |===========================                       | 53% ~02s            |===========================                       | 54% ~02s            |============================                      | 55% ~02s            |============================                      | 56% ~02s            |=============================                     | 57% ~02s            |=============================                     | 58% ~02s            |==============================                    | 59% ~02s            |==============================                    | 60% ~02s            |===============================                   | 61% ~02s            |===============================                   | 62% ~02s            |================================                  | 63% ~02s            |================================                  | 64% ~01s            |=================================                 | 65% ~01s            |=================================                 | 66% ~01s            |==================================                | 67% ~01s            |==================================                | 68% ~01s            |===================================               | 69% ~01s            |===================================               | 70% ~01s            |====================================              | 71% ~01s            |====================================              | 72% ~01s            |=====================================             | 73% ~01s            |=====================================             | 74% ~01s            |======================================            | 75% ~01s            |======================================            | 76% ~01s            |=======================================           | 77% ~01s            |=======================================           | 78% ~01s            |========================================          | 79% ~01s            |========================================          | 80% ~01s            |=========================================         | 81% ~01s            |=========================================         | 82% ~01s            |==========================================        | 83% ~01s            |==========================================        | 84% ~01s            |===========================================       | 85% ~01s            |===========================================       | 86% ~01s            |============================================      | 87% ~01s            |============================================      | 88% ~00s            |=============================================     | 89% ~00s            |=============================================     | 90% ~00s            |==============================================    | 91% ~00s            |==============================================    | 92% ~00s            |===============================================   | 93% ~00s            |===============================================   | 94% ~00s            |================================================  | 95% ~00s            |================================================  | 96% ~00s            |================================================= | 97% ~00s            |================================================= | 98% ~00s            |==================================================| 99% ~00s            |==================================================| 100% elapsed=04s  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DONE in 4.33s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---- Compute U matrix:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                  | 0 % ~calculating    |=                                                 | 1 % ~18s            |=                                                 | 2 % ~18s            |==                                                | 3 % ~18s            |==                                                | 4 % ~18s            |===                                               | 5 % ~17s            |===                                               | 6 % ~17s            |====                                              | 7 % ~17s            |====                                              | 8 % ~17s            |=====                                             | 9 % ~17s            |=====                                             | 10% ~16s            |======                                            | 11% ~16s            |======                                            | 12% ~16s            |=======                                           | 13% ~16s            |=======                                           | 14% ~16s            |========                                          | 15% ~15s            |========                                          | 16% ~15s            |=========                                         | 17% ~15s            |=========                                         | 18% ~15s            |==========                                        | 19% ~15s            |==========                                        | 20% ~14s            |===========                                       | 21% ~14s            |===========                                       | 22% ~14s            |============                                      | 23% ~14s            |============                                      | 24% ~14s            |=============                                     | 25% ~13s            |=============                                     | 26% ~13s            |==============                                    | 27% ~13s            |==============                                    | 28% ~13s            |===============                                   | 29% ~13s            |===============                                   | 30% ~12s            |================                                  | 31% ~12s            |================                                  | 32% ~12s            |=================                                 | 33% ~12s            |=================                                 | 34% ~12s            |==================                                | 35% ~12s            |==================                                | 36% ~12s            |===================                               | 37% ~11s            |===================                               | 38% ~11s            |====================                              | 39% ~11s            |====================                              | 40% ~11s            |=====================                             | 41% ~11s            |=====================                             | 42% ~10s            |======================                            | 43% ~10s            |======================                            | 44% ~10s            |=======================                           | 45% ~10s            |=======================                           | 46% ~10s            |========================                          | 47% ~10s            |========================                          | 48% ~09s            |=========================                         | 49% ~09s            |=========================                         | 50% ~09s            |==========================                        | 51% ~09s            |==========================                        | 52% ~09s            |===========================                       | 53% ~08s            |===========================                       | 54% ~08s            |============================                      | 55% ~08s            |============================                      | 56% ~08s            |=============================                     | 57% ~08s            |=============================                     | 58% ~08s            |==============================                    | 59% ~07s            |==============================                    | 60% ~07s            |===============================                   | 61% ~07s            |===============================                   | 62% ~07s            |================================                  | 63% ~07s            |================================                  | 64% ~06s            |=================================                 | 65% ~06s            |=================================                 | 66% ~06s            |==================================                | 67% ~06s            |==================================                | 68% ~06s            |===================================               | 69% ~06s            |===================================               | 70% ~05s            |====================================              | 71% ~05s            |====================================              | 72% ~05s            |=====================================             | 73% ~05s            |=====================================             | 74% ~05s            |======================================            | 75% ~04s            |======================================            | 76% ~04s            |=======================================           | 77% ~04s            |=======================================           | 78% ~04s            |========================================          | 79% ~04s            |========================================          | 80% ~04s            |=========================================         | 81% ~03s            |=========================================         | 82% ~03s            |==========================================        | 83% ~03s            |==========================================        | 84% ~03s            |===========================================       | 85% ~03s            |===========================================       | 86% ~03s            |============================================      | 87% ~02s            |============================================      | 88% ~02s            |=============================================     | 89% ~02s            |=============================================     | 90% ~02s            |==============================================    | 91% ~02s            |==============================================    | 92% ~01s            |===============================================   | 93% ~01s            |===============================================   | 94% ~01s            |================================================  | 95% ~01s            |================================================  | 96% ~01s            |================================================= | 97% ~01s            |================================================= | 98% ~00s            |==================================================| 99% ~00s            |==================================================| 100% elapsed=18s  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DONE in 17.97s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---- Compute encoding: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DONE in 1.31s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---- Compute Bootstrap Encoding:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ********</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The F matrix contains at least one column of 0s. At least one state is not present in the support of one basis function. Corresponding coefficients in the alpha output will have a 0 value.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ****************************************</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The F matrix contains at least one column of 0s. At least one state is not present in the support of one basis function. Corresponding coefficients in the alpha output will have a 0 value.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DONE in 0.86s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Run Time: 25.21s</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fmca</span>, harm <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 162 row(s) containing missing values (geom_path).</span>
<span class="r-plt img"><img src="biofam2-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fmca</span>, harm <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 162 row(s) containing missing values (geom_path).</span>
<span class="r-plt img"><img src="biofam2-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="plotEigenvalues.html">plotEigenvalues</a></span><span class="op">(</span><span class="va">fmca</span>, cumulative <span class="op">=</span> <span class="cn">TRUE</span>, normalize <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="biofam2-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="plotComponent.html">plotComponent</a></span><span class="op">(</span><span class="va">fmca</span>, comp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, addNames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="biofam2-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Cristian Preda, Quentin Grimonprez.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

