<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Care trajectories — care • cfda</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Care trajectories — care"><meta property="og:description" content="Care trajectories of patients diagnosed with a serious and chronic condition"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cfda</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.10.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/cfda.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/modal-inria/cfda/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Care trajectories</h1>
    <small class="dont-index">Source: <a href="https://github.com/modal-inria/cfda/blob/HEAD/R/datasets.R" class="external-link"><code>R/datasets.R</code></a></small>
    <div class="hidden name"><code>care.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Care trajectories of patients diagnosed with a serious and chronic condition</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">care</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="format">
    <h2>Format</h2>
    <p>A data.frame containing three columns:</p><ul><li><p><em>id</em> id of individuals (2929 different ids)</p></li>
<li><p><em>time</em> number of months since the diagnosis</p></li>
<li><p><em>state</em> new state.</p></li>
</ul></div>
    <div id="source">
    <h2>Source</h2>
    <p>https://larmarange.github.io/analyse-R/data/care_trajectories.RData https://larmarange.github.io/analyse-R/trajectoires-de-soins.html</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>In this study, patients were followed from the time they were diagnosed with a serious and chronic condition
and their care trajectories were tracked monthly from the time of diagnosis.
The status variable contains the care status of each individual for each month of follow-up.
Trajectories have different lengths.</p>
<p>The four states are:</p><ul><li><p>D: diagnosed, but not in care</p></li>
<li><p>C: in care, but not on treatment</p></li>
<li><p>T: on treatment, but infection not suppressed</p></li>
<li><p>S: on treatment and suppressed infection</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other datasets: 
<code><a href="biofam2.html">biofam2</a></code>,
<code><a href="flours.html">flours</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">care</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">care</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id time state</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  3    0     D</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  3    5     D</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  9    0     D</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  9    1     D</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 13    0     D</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 13    7     D</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="plotData.html">plotData</a></span><span class="op">(</span><span class="va">care</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="care-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Individuals has not the same length. In order to compute the encoding,</span></span></span>
<span class="r-in"><span><span class="co"># we keep individuals with at least 18 months of history and work</span></span></span>
<span class="r-in"><span><span class="co"># with the 18 first months.</span></span></span>
<span class="r-in"><span><span class="va">duration</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_duration.html">compute_duration</a></span><span class="op">(</span><span class="va">care</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">idToKeep</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">duration</span><span class="op">[</span><span class="va">duration</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">care2</span> <span class="op">&lt;-</span> <span class="fu"><a href="cut_data.html">cut_data</a></span><span class="op">(</span><span class="va">care</span><span class="op">[</span><span class="va">care</span><span class="op">$</span><span class="va">id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">idToKeep</span>, <span class="op">]</span>, <span class="fl">18</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">care2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id time state</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 15    0     D</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 15    4     T</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 15    7     C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 15    8     D</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 15   15     C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 15   18     C</span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># It is recommended to increase the number of cores to reduce computation time</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">basis</span> <span class="op">&lt;-</span> <span class="fu">create.bspline.basis</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">18</span><span class="op">)</span>, nbasis <span class="op">=</span> <span class="fl">10</span>, norder <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fmca</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_optimal_encoding.html">compute_optimal_encoding</a></span><span class="op">(</span><span class="va">care2</span>, <span class="va">basis</span>, nCores <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ######### Compute encoding #########</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of individuals: 1317</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of states: 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Basis type: bspline</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of basis functions: 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of cores: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---- Compute V matrix:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                  | 0 % ~calculating    |=                                                 | 1 % ~43s            |==                                                | 2 % ~44s            |==                                                | 3 % ~44s            |===                                               | 4 % ~43s            |===                                               | 5 % ~42s            |====                                              | 6 % ~42s            |====                                              | 7 % ~42s            |=====                                             | 8 % ~41s            |=====                                             | 9 % ~41s            |======                                            | 11% ~40s            |======                                            | 12% ~40s            |=======                                           | 13% ~39s            |=======                                           | 14% ~39s            |========                                          | 15% ~38s            |========                                          | 16% ~38s            |=========                                         | 17% ~37s            |=========                                         | 18% ~37s            |==========                                        | 19% ~36s            |==========                                        | 20% ~36s            |===========                                       | 21% ~35s            |============                                      | 22% ~35s            |============                                      | 23% ~34s            |=============                                     | 24% ~34s            |=============                                     | 25% ~33s            |==============                                    | 26% ~33s            |==============                                    | 27% ~32s            |===============                                   | 28% ~32s            |===============                                   | 29% ~31s            |================                                  | 31% ~31s            |================                                  | 32% ~30s            |=================                                 | 33% ~30s            |=================                                 | 34% ~30s            |==================                                | 35% ~29s            |==================                                | 36% ~29s            |===================                               | 37% ~28s            |===================                               | 38% ~28s            |====================                              | 39% ~27s            |====================                              | 40% ~27s            |=====================                             | 41% ~26s            |======================                            | 42% ~26s            |======================                            | 43% ~25s            |=======================                           | 44% ~25s            |=======================                           | 45% ~25s            |========================                          | 46% ~24s            |========================                          | 47% ~24s            |=========================                         | 48% ~23s            |=========================                         | 49% ~23s            |==========================                        | 51% ~22s            |==========================                        | 52% ~22s            |===========================                       | 53% ~21s            |===========================                       | 54% ~21s            |============================                      | 55% ~20s            |============================                      | 56% ~20s            |=============================                     | 57% ~19s            |=============================                     | 58% ~19s            |==============================                    | 59% ~18s            |==============================                    | 60% ~18s            |===============================                   | 61% ~17s            |================================                  | 62% ~17s            |================================                  | 63% ~16s            |=================================                 | 64% ~16s            |=================================                 | 65% ~15s            |==================================                | 66% ~15s            |==================================                | 67% ~15s            |===================================               | 68% ~14s            |===================================               | 69% ~14s            |====================================              | 71% ~13s            |====================================              | 72% ~13s            |=====================================             | 73% ~12s            |=====================================             | 74% ~12s            |======================================            | 75% ~11s            |======================================            | 76% ~11s            |=======================================           | 77% ~10s            |=======================================           | 78% ~10s            |========================================          | 79% ~09s            |========================================          | 80% ~09s            |=========================================         | 81% ~08s            |==========================================        | 82% ~08s            |==========================================        | 83% ~07s            |===========================================       | 84% ~07s            |===========================================       | 85% ~07s            |============================================      | 86% ~06s            |============================================      | 87% ~06s            |=============================================     | 88% ~05s            |=============================================     | 89% ~05s            |==============================================    | 91% ~04s            |==============================================    | 92% ~04s            |===============================================   | 93% ~03s            |===============================================   | 94% ~03s            |================================================  | 95% ~02s            |================================================  | 96% ~02s            |================================================= | 97% ~01s            |================================================= | 98% ~01s            |==================================================| 99% ~00s            |==================================================| 100% elapsed=44s  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DONE in 43.94s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---- Compute U matrix:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                  | 0 % ~calculating    |=                                                 | 1 % ~04m 48s        |==                                                | 2 % ~04m 53s        |==                                                | 3 % ~04m 48s        |===                                               | 4 % ~04m 45s        |===                                               | 5 % ~04m 42s        |====                                              | 6 % ~04m 40s        |====                                              | 7 % ~04m 37s        |=====                                             | 8 % ~04m 32s        |=====                                             | 9 % ~04m 29s        |======                                            | 11% ~04m 24s        |======                                            | 12% ~04m 20s        |=======                                           | 13% ~04m 19s        |=======                                           | 14% ~04m 15s        |========                                          | 15% ~04m 12s        |========                                          | 16% ~04m 08s        |=========                                         | 17% ~04m 04s        |=========                                         | 18% ~04m 01s        |==========                                        | 19% ~03m 58s        |==========                                        | 20% ~03m 55s        |===========                                       | 21% ~03m 52s        |============                                      | 22% ~03m 49s        |============                                      | 23% ~03m 46s        |=============                                     | 24% ~03m 44s        |=============                                     | 25% ~03m 41s        |==============                                    | 26% ~03m 37s        |==============                                    | 27% ~03m 34s        |===============                                   | 28% ~03m 31s        |===============                                   | 29% ~03m 28s        |================                                  | 31% ~03m 25s        |================                                  | 32% ~03m 22s        |=================                                 | 33% ~03m 19s        |=================                                 | 34% ~03m 15s        |==================                                | 35% ~03m 12s        |==================                                | 36% ~03m 10s        |===================                               | 37% ~03m 06s        |===================                               | 38% ~03m 03s        |====================                              | 39% ~03m 00s        |====================                              | 40% ~02m 57s        |=====================                             | 41% ~02m 54s        |======================                            | 42% ~02m 51s        |======================                            | 43% ~02m 48s        |=======================                           | 44% ~02m 45s        |=======================                           | 45% ~02m 42s        |========================                          | 46% ~02m 39s        |========================                          | 47% ~02m 35s        |=========================                         | 48% ~02m 32s        |=========================                         | 49% ~02m 29s        |==========================                        | 51% ~02m 26s        |==========================                        | 52% ~02m 22s        |===========================                       | 53% ~02m 19s        |===========================                       | 54% ~02m 16s        |============================                      | 55% ~02m 13s        |============================                      | 56% ~02m 10s        |=============================                     | 57% ~02m 07s        |=============================                     | 58% ~02m 04s        |==============================                    | 59% ~02m 01s        |==============================                    | 60% ~01m 58s        |===============================                   | 61% ~01m 55s        |================================                  | 62% ~01m 52s        |================================                  | 63% ~01m 49s        |=================================                 | 64% ~01m 46s        |=================================                 | 65% ~01m 42s        |==================================                | 66% ~01m 39s        |==================================                | 67% ~01m 36s        |===================================               | 68% ~01m 33s        |===================================               | 69% ~01m 30s        |====================================              | 71% ~01m 27s        |====================================              | 72% ~01m 23s        |=====================================             | 73% ~01m 20s        |=====================================             | 74% ~01m 17s        |======================================            | 75% ~01m 14s        |======================================            | 76% ~01m 11s        |=======================================           | 77% ~01m 08s        |=======================================           | 78% ~01m 05s        |========================================          | 79% ~01m 02s        |========================================          | 80% ~59s            |=========================================         | 81% ~56s            |==========================================        | 82% ~52s            |==========================================        | 83% ~49s            |===========================================       | 84% ~46s            |===========================================       | 85% ~43s            |============================================      | 86% ~40s            |============================================      | 87% ~37s            |=============================================     | 88% ~34s            |=============================================     | 89% ~31s            |==============================================    | 91% ~28s            |==============================================    | 92% ~25s            |===============================================   | 93% ~22s            |===============================================   | 94% ~18s            |================================================  | 95% ~15s            |================================================  | 96% ~12s            |================================================= | 97% ~09s            |================================================= | 98% ~06s            |==================================================| 99% ~03s            |==================================================| 100% elapsed=04m 50s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DONE in 289.63s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---- Compute encoding: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DONE in 0.01s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---- Compute Bootstrap Encoding:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> **************************************************</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> DONE in 0.67s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Run Time: 335.01s</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="plotEigenvalues.html">plotEigenvalues</a></span><span class="op">(</span><span class="va">fmca</span>, cumulative <span class="op">=</span> <span class="cn">TRUE</span>, normalize <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="care-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fmca</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 8 row(s) containing missing values (geom_path).</span>
<span class="r-plt img"><img src="care-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fmca</span>, addCI <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 8 row(s) containing missing values (geom_path).</span>
<span class="r-plt img"><img src="care-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="plotComponent.html">plotComponent</a></span><span class="op">(</span><span class="va">fmca</span>, addNames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="care-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Cristian Preda, Quentin Grimonprez.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

